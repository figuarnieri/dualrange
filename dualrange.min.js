class DualRange{constructor(a,e){document.querySelectorAll(a).forEach(a=>{const t=a.parentNode,n=a.className;a.className="",a.classList.add("dualrange__input-max"),a.max||(a.max=100),a.min||(a.min=0),a.setAttribute("value",a.max||100),a.setAttribute("step",a.step||.1),a.setAttribute("data-dualrange-max",""),a.outerHTML=`<div class="dualrange ${n}" data-dualrange-valmin="${a.min}" data-dualrange-valmax="${a.max}"><input data-dualrange-min step="0.1" type="range" min="${a.min}" max="${a.max}" value="${a.min}" class="dualrange__input-min">${a.outerHTML}<div class="dualrange__min" style="left: 0%; transform: translate(0%, -50%);"></div><div class="dualrange__max" style="left: 100%; transform: translate(-100%, -50%);"></div><div class="dualrange__range"></div></div>`,this.init(t,e)})}init(a,e){a.querySelectorAll(".dualrange input").forEach((a,t)=>{a.step=0===t?a.nextElementSibling.step:a.step,this.range(a,e)})}range(a,e){const t=a.parentNode,n=t.children;a.addEventListener("input",t=>{const l=100/(a.max-a.min)*(a.value-a.min),r=parseFloat(n[0].value),s=parseFloat(n[1].value),i=parseFloat(n[0].step),u=new Event("input");if(r>s)return n[0].value=r-i,n[1].value=s+i,n[0].dispatchEvent(u),n[1].dispatchEvent(u),!1;n[a.hasAttribute("data-dualrange-max")?3:2].style.left=`${l}%`,n[a.hasAttribute("data-dualrange-max")?3:2].style.transform=`translate(-${l}%, -50%)`,e&&(clearTimeout(window.dualRangeCallback),window.dualRangeCallback=setTimeout(()=>{e({min:parseFloat(a.parentNode.children[0].value),max:parseFloat(a.parentNode.children[1].value)})},10))}),t.addEventListener("mousemove",a=>{const e=a.offsetX,n=t.clientWidth,l=parseFloat(t.querySelector(".dualrange__min").style.left),r=parseFloat(t.querySelector(".dualrange__max").style.left),s=parseInt(100*e/n)-l<Math.abs(100*e/n-r);t.querySelector(s?".dualrange__input-min":".dualrange__input-max").classList.add("dualrange__zindex"),t.querySelector(s?".dualrange__input-max":".dualrange__input-min").classList.remove("dualrange__zindex")})}callback(a,e){e()}}